# 桥风智绘 - 桥梁断面风场模拟分析平台

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)

**BridgeWind** 是一款专为桥梁工程领域设计的二维断面风场计算流体动力学（CFD）模拟软件。它提供了一个从几何建模、网格生成到流场求解和后处理可视化的端到端集成解决方案，旨在帮助工程师和研究人员高效、准确地分析桥梁断面的空气动力学性能。

## 核心特性

*   **灵活的几何建模**:
    *   **内置参数化模型**: 快速创建圆形、矩形、倒角矩形、流线型箱梁等多种典型桥梁截面。
    *   **支持DXF导入**: 通过集成 `libdxfrw` 库，可直接导入CAD软件生成的`.dxf`文件，无缝衔接现有设计流程。

*   **全自动高质量网格生成**:
    *   **智能拓扑分析**: 基于图论算法，自动分析几何拓扑，确保模型的封闭性和连续性。
    *   **类结构化网格**: 结合用户定义的参数，自动生成高质量的O型（或C型）四边形网格，显著提升计算精度和收敛性。
    *   **无缝集成Gmsh**: 在后端调用强大的开源网格划分工具Gmsh，并将生成的`.msh`网格自动转换为求解器所需的`.cgns`格式。

*   **集成化的PHengLEI求解器**:
    *   **自动化计算管线**: 封装了国产CFD求解器PHengLEI的完整计算流程，包括网格转换、分区和并行求解。
    *   **参数模板化**: 用户仅需在图形界面中输入物理参数（如雷诺数、攻角等），软件即可自动生成求解器所需的全部`.hypara`配置文件。

*   **先进的后处理与可视化**:
    *   **VTK驱动**: 基于强大的VTK（Visualization Toolkit）库，提供专业的科学可视化能力。
    *   **准实时监控**: 在计算过程中，可定时自动刷新流场数据，实现对压力、速度等物理量云图的动态监控。
    *   **现代化UI**: 使用Qt框架构建，拥有自定义的无边框界面和统一的视觉风格。

## 软件截图展示
![软件计算界面](./images/screenshot.png)

## 技术栈

*   **核心框架与语言**: C++ 17
*   **用户界面 (UI)**: Qt 5, QSS
*   **科学计算与可视化**:
    *   **VTK 9**: 用于所有2D/3D渲染和数据可视化。
    *   **CGNS**: 用于存储和交换CFD网格与数据。
    *   **HDF5**: 用于读取PHengLEI求解器输出的结果文件。
*   **几何与网格**:
    *   **Gmsh**: 后端网格生成引擎。
    *   **libdxfrw**: 用于DXF文件的读写。
*   **CFD 求解器**: **PHengLEI v3.0** (作为外部依赖)
*   **构建系统**: CMake

## 工作流程

1.  **创建项目**: 启动软件，创建一个新项目并指定工作目录。
2.  **定义几何**: 选择内置的参数化截面，或直接拖入一个`.dxf`文件。
3.  **设置网格参数**: 在“Meshing”选项卡中，定义周向/径向网格数量、增长率等参数。
4.  **生成网格**: 点击“Generate Mesh”，软件将自动完成拓扑分析、Gmsh调用和CGNS转换的全过程。
5.  **配置仿真参数**: 在“Simulation”选项卡中，设置来流速度（或雷诺数）、CPU核心数、求解时长等计算参数。
6.  **运行求解**: 点击“Start Simulation”，软件将启动PHengLEI求解器，并在日志窗口实时显示求解进程。
7.  **可视化分析**: 在计算过程中或计算结束后，通过右侧的视图选项卡切换查看网格、压力云图、速度云图等，进行交互式分析。

## 系统需求

*   **操作系统**: Windows 10 / 11 (64位)
*   **处理器**: 推荐多核CPU (为并行计算提供支持)
*   **内存**: 8 GB RAM 或更高
*   **显卡**: 支持OpenGL 3.3及以上标准，并安装了最新的官方驱动程序。
    *   注意: 本软件的可视化功能依赖于良好的图形驱动支持。

## 已知问题

*   在部分虚拟机环境（如 VMware Workstation）中，由于其虚拟显卡驱动对高级OpenGL特性的支持不完善，流场云图等复杂渲染可能会出现显示异常（例如花屏、色块）。这属于环境兼容性问题，**不影响核心计算功能的正确性**。为获得最佳体验，强烈建议在物理硬件上运行本软件。

## 开源许可

本项目基于 **GNU General Public License v3.0** 开源。详细信息请参阅 [LICENSE](LICENSE) 文件。

